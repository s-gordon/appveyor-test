image:
  - Ubuntu
  - Visual Studio 2019
  - macos

stack: python 3

version: '{branch}--{build}'

environment:

  PY_DIR: C:\Python37-x64

  matrix:
    - TOXENV: py37
      PYTHON_VERSION: "3.7"
      PYTHON_ARCH: "64"
      PYTHON: "$HOME/venv3.8.2"

init:
  - cmd: set PATH=%PY_DIR%;%PY_DIR%;%PATH%

build: off

install:

  # check that the correct python version is being used
  - "python --version"

  # enforce the latest version of pip
  - "python -m pip install --upgrade pip"

  # install build dependencies
  - "python -m pip install -r requirements_dev.txt"

  # build
  - "python -m python setup.py build"
