version: '{branch}--{build}'

environment:

  matrix:
    - TOXENV: py38
      PYTHON: "C:\\Python3.7"
      PYTHON_VERSION: "3.7"
      PYTHON_ARCH: "64"

install:

  # set python version
  - SET PATH=%PYTHON%;%path%

  # check that the correct python version is being used
  - "%PYTHON%\\python.exe --version"

  # enforce the latest version of pip
  - "%PYTHON%\\python.exe -m pip install --upgrade pip"

  # install build dependencies
  - "%PYTHON%\\python.exe -m pip install -r requirements_dev.txt"

  # build
  - "%PYTHON%\\python.exe -m python setup.py build"
